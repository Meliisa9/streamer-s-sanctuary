# StreamerX - Casino Streamer Platform

A full-featured casino streaming community platform built with React, TypeScript, and Supabase.

## Features

- ğŸ° **Casino Bonuses** - Display and manage casino bonuses with affiliate links
- ğŸ“¹ **Video Gallery** - Showcase streaming clips and highlights
- ğŸ **Giveaways** - Run community giveaways with entry tracking
- ğŸ“° **News System** - Publish articles and updates
- ğŸ“… **Events Calendar** - Schedule streams and community events
- ğŸ¯ **Guess The Win** - Interactive prediction game for viewers
- ğŸ† **Leaderboard** - Track community points and rankings
- ğŸ‘¤ **User Profiles** - Member profiles with social links
- ğŸ” **Authentication** - Email/password + OAuth (Twitch, Discord)
- ğŸ›¡ï¸ **Admin Panel** - Full content management system
- ğŸ“Š **Audit Logging** - Track all admin actions

## Tech Stack

- **Frontend**: React 18, TypeScript, Vite
- **Styling**: Tailwind CSS, shadcn/ui
- **Backend**: Supabase (PostgreSQL, Auth, RLS)
- **State Management**: TanStack Query
- **Animations**: Framer Motion
- **Forms**: React Hook Form, Zod validation

## Prerequisites

- Node.js 18+ 
- npm or bun
- Supabase account (or Lovable Cloud)

## Installation

### Step 1: Clone the Repository

```bash
git clone <YOUR_GIT_URL>
cd <YOUR_PROJECT_NAME>
```

### Step 2: Install Dependencies

```bash
npm install
# or
bun install
```

### Step 3: Environment Setup

The `.env` file is automatically generated by Lovable Cloud with these variables:
- `VITE_SUPABASE_URL` - Your Supabase project URL
- `VITE_SUPABASE_PUBLISHABLE_KEY` - Your Supabase anon key
- `VITE_SUPABASE_PROJECT_ID` - Your Supabase project ID

If running locally without Lovable Cloud, create a `.env` file:

```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_PUBLISHABLE_KEY=your_supabase_anon_key
```

### Step 4: Database Setup

The database schema is automatically set up via migrations. Tables include:

- `profiles` - User profiles with social links
- `user_roles` - Role-based access control (admin, moderator, user)
- `casino_bonuses` - Casino bonus listings
- `videos` - Video content with categories
- `video_categories` - Video categorization
- `video_likes` - Video like tracking
- `news_articles` - News/blog posts
- `news_comments` - Article comments
- `giveaways` - Giveaway campaigns
- `giveaway_entries` - Entry tracking
- `events` - Scheduled events
- `gtw_sessions` - Guess The Win game sessions
- `gtw_guesses` - User guesses
- `audit_logs` - Admin action logging
- `site_settings` - Site configuration

### Step 5: Start Development Server

```bash
npm run dev
# or
bun dev
```

Open [http://localhost:5173](http://localhost:5173) in your browser.

## Making Yourself an Admin

1. Create an account through the /auth page
2. Access your Supabase dashboard or use SQL Editor
3. Run this query (replace with your user ID):

```sql
-- Find your user ID first
SELECT id, email FROM auth.users WHERE email = 'your@email.com';

-- Then add admin role
INSERT INTO public.user_roles (user_id, role) 
VALUES ('your-user-id-here', 'admin');
```

Or via Lovable Cloud:
1. Go to Cloud > Database > Tables > user_roles
2. Add a new row with your user_id and role = 'admin'

## OAuth Setup (Optional)

### Twitch OAuth

1. Go to [Twitch Developer Console](https://dev.twitch.tv/console)
2. Create a new application
3. Set OAuth Redirect URL to: `https://your-project.supabase.co/auth/v1/callback`
4. Copy Client ID and Client Secret
5. In Lovable Cloud > Auth Settings > Twitch, add your credentials

### Discord OAuth

1. Go to [Discord Developer Portal](https://discord.com/developers/applications)
2. Create a new application
3. Add OAuth2 redirect: `https://your-project.supabase.co/auth/v1/callback`
4. Copy Client ID and Client Secret
5. In Lovable Cloud > Auth Settings > Discord, add your credentials

## Project Structure

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/          # MainLayout, Sidebar, Footer
â”‚   â””â”€â”€ ui/              # shadcn/ui components
â”œâ”€â”€ contexts/
â”‚   â””â”€â”€ AuthContext.tsx  # Authentication state
â”œâ”€â”€ hooks/               # Custom React hooks
â”œâ”€â”€ integrations/
â”‚   â””â”€â”€ supabase/        # Supabase client & types
â”œâ”€â”€ lib/                 # Utility functions
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ admin/           # Admin panel pages
â”‚   â”œâ”€â”€ Auth.tsx         # Login/signup
â”‚   â”œâ”€â”€ Bonuses.tsx      # Casino bonuses
â”‚   â”œâ”€â”€ Events.tsx       # Events calendar
â”‚   â”œâ”€â”€ Giveaways.tsx    # Giveaways listing
â”‚   â”œâ”€â”€ GuessTheWin.tsx  # GTW game
â”‚   â”œâ”€â”€ Index.tsx        # Homepage
â”‚   â”œâ”€â”€ Leaderboard.tsx  # Points leaderboard
â”‚   â”œâ”€â”€ News.tsx         # News articles
â”‚   â”œâ”€â”€ Profile.tsx      # User profile
â”‚   â””â”€â”€ Videos.tsx       # Video gallery
â””â”€â”€ index.css            # Global styles & design tokens
```

## Admin Panel

Access `/admin` (requires admin or moderator role):

- **Dashboard** - Overview stats
- **Videos** - Manage video content
- **Bonuses** - Manage casino bonuses
- **Giveaways** - Create/manage giveaways
- **News** - Publish articles
- **Events** - Schedule events
- **Users** - User management (admin only)
- **Audit Log** - View admin actions

## Deployment

### Via Lovable

1. Open your project in Lovable
2. Click "Publish" button
3. Your app is deployed!

### Via Vercel/Netlify

1. Connect your GitHub repository
2. Set environment variables
3. Deploy

### Via Docker

```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build
EXPOSE 4173
CMD ["npm", "run", "preview"]
```

## Security Features

- **Row Level Security (RLS)** - All tables protected
- **Role-based access** - Admin, Moderator, User roles
- **Input validation** - Zod schemas for forms
- **Secure authentication** - Supabase Auth with OAuth
- **Audit logging** - Track all admin actions

## Customization

### Branding

1. Update logo in `Sidebar.tsx` and `Footer.tsx`
2. Modify colors in `src/index.css` (CSS variables)
3. Update site name throughout components

### Adding Features

1. Create new pages in `src/pages/`
2. Add routes in `src/App.tsx`
3. Create database tables via migrations
4. Update navigation in `Sidebar.tsx`

## Support

For issues or questions:
- Open a GitHub issue
- Contact via Discord

## License

MIT License - feel free to use for your own projects!
